<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rola Ke">
<meta name="dcterms.date" content="2026-02-23">

<title>DATASCI 350 - Assignment 05: WDI 2022 Report</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="report_files/libs/clipboard/clipboard.min.js"></script>
<script src="report_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="report_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="report_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="report_files/libs/quarto-html/popper.min.js"></script>
<script src="report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="report_files/libs/quarto-html/anchor.min.js"></script>
<link href="report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="report_files/libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="report_files/libs/bootstrap/bootstrap-a74871fe4945b66d259aafc266475145.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#exploratory-data-analysis-eda" id="toc-exploratory-data-analysis-eda" class="nav-link active" data-scroll-target="#exploratory-data-analysis-eda"><span class="header-section-number">1</span> Exploratory Data Analysis (EDA)</a>
  <ul class="collapse">
  <li><a href="#summary-of-missing-values" id="toc-summary-of-missing-values" class="nav-link" data-scroll-target="#summary-of-missing-values"><span class="header-section-number">1.1</span> Summary of missing values</a></li>
  <li><a href="#gdp-per-capita-gdp_per_capita" id="toc-gdp-per-capita-gdp_per_capita" class="nav-link" data-scroll-target="#gdp-per-capita-gdp_per_capita"><span class="header-section-number">1.2</span> 1) GDP per capita (gdp_per_capita)</a></li>
  <li><a href="#life-expectancy-life_expectancy" id="toc-life-expectancy-life_expectancy" class="nav-link" data-scroll-target="#life-expectancy-life_expectancy"><span class="header-section-number">1.3</span> 2) Life expectancy (life_expectancy)</a></li>
  <li><a href="#unemployment-rate-unemployment_rate" id="toc-unemployment-rate-unemployment_rate" class="nav-link" data-scroll-target="#unemployment-rate-unemployment_rate"><span class="header-section-number">1.4</span> 3) Unemployment rate (unemployment_rate)</a></li>
  <li><a href="#relationships-between-indicators-quick-check" id="toc-relationships-between-indicators-quick-check" class="nav-link" data-scroll-target="#relationships-between-indicators-quick-check"><span class="header-section-number">1.5</span> Relationships between indicators (quick check)</a></li>
  <li><a href="#relationship-between-gdp-per-capita-and-life-expectancy" id="toc-relationship-between-gdp-per-capita-and-life-expectancy" class="nav-link" data-scroll-target="#relationship-between-gdp-per-capita-and-life-expectancy"><span class="header-section-number">1.6</span> Relationship between GDP per capita and Life Expectancy</a></li>
  <li><a href="#top-10-countries-by-gdp-per-capita" id="toc-top-10-countries-by-gdp-per-capita" class="nav-link" data-scroll-target="#top-10-countries-by-gdp-per-capita"><span class="header-section-number">1.7</span> Top 10 Countries by GDP per Capita</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="report.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DATASCI 350 - Assignment 05: WDI 2022 Report</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Rola Ke </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 23, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div id="06e1e504" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display" data-execution_count="85">
<pre><code>(217, 14)</code></pre>
</div>
</div>
<section id="exploratory-data-analysis-eda" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="exploratory-data-analysis-eda"><span class="header-section-number">1</span> Exploratory Data Analysis (EDA)</h2>
<p>In this section, we explore three indicators: <strong>GDP per capita</strong>, <strong>life expectancy</strong>, and <strong>unemployment rate</strong>.</p>
<section id="summary-of-missing-values" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="summary-of-missing-values"><span class="header-section-number">1.1</span> Summary of missing values</h3>
<div id="2574a898" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display" data-execution_count="86">
<pre><code>adult_literacy_rate                172
income_inequality                  148
primary_school_enrolment_rate       55
education_expenditure_gdp_share     54
inflation_rate                      39
exports_gdp_share                   35
unemployment_rate                   31
health_expenditure_gdp_share        25
measles_immunisation_rate           24
gdp_growth_rate                      8
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="gdp-per-capita-gdp_per_capita" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="gdp-per-capita-gdp_per_capita"><span class="header-section-number">1.2</span> 1) GDP per capita (gdp_per_capita)</h3>
<div id="f480dc99" class="cell" data-execution_count="3">
<div class="cell-output cell-output-display" data-execution_count="87">
<pre><code>count       209.000000
mean      21142.747417
std       31040.300784
min         302.992505
25%        2899.160475
50%        7655.594210
75%       28360.304147
max      226052.001905
Name: gdp_per_capita, dtype: float64</code></pre>
</div>
</div>
<div id="045b5a7e" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display" data-execution_count="88">
<pre><code>(            country  gdp_per_capita
 130          Monaco   226052.001905
 114   Liechtenstein   188055.003235
 116      Luxembourg   123719.658916
 21          Bermuda   121613.939984
 147          Norway   109269.520580
 93          Ireland   105190.685953
 188     Switzerland    94394.510680
 36   Cayman Islands    93030.705145
 171       Singapore    90299.069464
 159           Qatar    88701.468976,
                       country  gdp_per_capita
 112                   Liberia      744.617175
 44           Congo, Dem. Rep.      687.738588
 143                     Niger      609.745148
 119                    Malawi      604.269740
 134                Mozambique      578.251664
 176        Somalia, Fed. Rep.      573.141166
 118                Madagascar      503.514533
 37   Central African Republic      467.359825
 0                 Afghanistan      357.261153
 31                    Burundi      302.992505)</code></pre>
</div>
</div>
<p><strong>Finding:</strong> GDP per capita varies widely across countries, with a long right tail (a few very high-income countries).</p>
</section>
<section id="life-expectancy-life_expectancy" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="life-expectancy-life_expectancy"><span class="header-section-number">1.3</span> 2) Life expectancy (life_expectancy)</h3>
<div id="6a8c3222" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display" data-execution_count="89">
<pre><code>count    217.000000
mean      73.108020
std        7.942539
min       18.818000
25%       67.788000
50%       74.160976
75%       78.531000
max       85.746000
Name: life_expectancy, dtype: float64</code></pre>
</div>
</div>
<div id="b0df64d6" class="cell" data-execution_count="6">
<div class="cell-output cell-output-display" data-execution_count="90">
<pre><code>(                  country  life_expectancy
 130                Monaco        85.746000
 164            San Marino        85.708000
 114         Liechtenstein        84.121951
 4                 Andorra        84.016000
 98                  Japan        83.996341
 69       French Polynesia        83.859000
 86   Hong Kong SAR, China        83.660976
 188           Switzerland        83.604878
 75              Gibraltar        83.517000
 10              Australia        83.200000,
                       country  life_expectancy
 20                      Benin           60.475
 81                     Guinea           60.432
 143                     Niger           60.398
 122                      Mali           60.035
 178               South Sudan           57.203
 111                   Lesotho           56.812
 38                       Chad           54.528
 144                   Nigeria           54.079
 176        Somalia, Fed. Rep.           53.931
 37   Central African Republic           18.818)</code></pre>
</div>
</div>
<p><strong>Finding:</strong> Life expectancy is more concentrated than GDP per capita, but still shows large differences across countries.</p>
</section>
<section id="unemployment-rate-unemployment_rate" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="unemployment-rate-unemployment_rate"><span class="header-section-number">1.4</span> 3) Unemployment rate (unemployment_rate)</h3>
<div id="0b74c349" class="cell" data-execution_count="7">
<div class="cell-output cell-output-display" data-execution_count="91">
<pre><code>count    186.000000
mean       7.196930
std        5.845956
min        0.130000
25%        3.484750
50%        5.337000
75%        9.194500
max       36.472000
Name: unemployment_rate, dtype: float64</code></pre>
</div>
</div>
<div id="91f9adee" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display" data-execution_count="92">
<pre><code>(                            country  unemployment_rate
 63                         Eswatini             36.472
 177                    South Africa             33.268
 54                         Djibouti             26.272
 213              West Bank and Gaza             24.420
 25                         Botswana             23.615
 70                            Gabon             20.319
 45                      Congo, Rep.             20.131
 136                         Namibia             19.615
 184  St. Vincent and the Grenadines             19.277
 113                           Libya             19.238,
              country  unemployment_rate
 175  Solomon Islands              1.475
 14           Bahrain              1.265
 108          Lao PDR              1.209
 38              Chad              1.081
 192         Thailand              0.940
 31           Burundi              0.909
 129          Moldova              0.909
 143            Niger              0.403
 33          Cambodia              0.245
 159            Qatar              0.130)</code></pre>
</div>
</div>
<p><strong>Finding:</strong> Unemployment rates vary across countries and may include outliers (very high unemployment).</p>
</section>
<section id="relationships-between-indicators-quick-check" class="level3" data-number="1.5">
<h3 data-number="1.5" class="anchored" data-anchor-id="relationships-between-indicators-quick-check"><span class="header-section-number">1.5</span> Relationships between indicators (quick check)</h3>
<div id="33a1823f" class="cell" data-execution_count="9">
<div class="cell-output cell-output-display" data-execution_count="93">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">gdp_per_capita</th>
<th data-quarto-table-cell-role="th">life_expectancy</th>
<th data-quarto-table-cell-role="th">unemployment_rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">gdp_per_capita</th>
<td>1.000000</td>
<td>0.570982</td>
<td>-0.200769</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">life_expectancy</th>
<td>0.570982</td>
<td>1.000000</td>
<td>-0.115117</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">unemployment_rate</th>
<td>-0.200769</td>
<td>-0.115117</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Finding:</strong> GDP per capita is typically positively associated with life expectancy (r &gt; 0), while unemployment may not have a strong linear relationship with the other two. ## Visualisations</p>
</section>
<section id="relationship-between-gdp-per-capita-and-life-expectancy" class="level3" data-number="1.6">
<h3 data-number="1.6" class="anchored" data-anchor-id="relationship-between-gdp-per-capita-and-life-expectancy"><span class="header-section-number">1.6</span> Relationship between GDP per capita and Life Expectancy</h3>
<div id="cell-fig-gdp-life" class="cell" data-execution_count="10">
<div class="cell-output cell-output-display">
<div id="fig-gdp-life" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gdp-life-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="report_files/figure-html/fig-gdp-life-output-1.png" width="585" height="449" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gdp-life-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Figure 1: Relationship between GDP per capita and life expectancy (World Bank WDI, 2022).
</figcaption>
</figure>
</div>
</div>
</div>
<p>As shown in <a href="#fig-gdp-life" class="quarto-xref">Figure&nbsp;1</a>, countries with higher GDP per capita tend to have higher life expectancy.</p>
<hr>
</section>
<section id="top-10-countries-by-gdp-per-capita" class="level3" data-number="1.7">
<h3 data-number="1.7" class="anchored" data-anchor-id="top-10-countries-by-gdp-per-capita"><span class="header-section-number">1.7</span> Top 10 Countries by GDP per Capita</h3>
<div id="cell-fig-top-gdp" class="cell" data-execution_count="11">
<div class="cell-output cell-output-display">
<div id="fig-top-gdp" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-top-gdp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="report_files/figure-html/fig-top-gdp-output-1.png" width="619" height="542" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-top-gdp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Figure 2: Top 10 countries by GDP per capita (World Bank WDI, 2022).
</figcaption>
</figure>
</div>
</div>
</div>
<p>Figure <a href="#fig-top-gdp" class="quarto-xref">Figure&nbsp;2</a> highlights the substantial differences among the highest-income countries. ## Key Statistics Table</p>
<p>Table <a href="#tbl-key-stats" class="quarto-xref">Table&nbsp;1</a> summarizes key descriptive statistics for the three indicators used in the EDA.</p>
<div class="cell" data-execution_count="12">
<div id="tbl-key-stats" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="12">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-key-stats-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Table 1: Key statistics for selected indicators (World Bank WDI, 2022).
</figcaption>
<div aria-describedby="tbl-key-stats-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display" data-execution_count="96">
<div>


<table class="dataframe do-not-create-environment cell caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">gdp_per_capita</th>
<td>209.0</td>
<td>21142.747417</td>
<td>31040.300784</td>
<td>302.992505</td>
<td>2899.160475</td>
<td>7655.594210</td>
<td>28360.304147</td>
<td>226052.001905</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">life_expectancy</th>
<td>217.0</td>
<td>73.108020</td>
<td>7.942539</td>
<td>18.818000</td>
<td>67.788000</td>
<td>74.160976</td>
<td>78.531000</td>
<td>85.746000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">unemployment_rate</th>
<td>186.0</td>
<td>7.196930</td>
<td>5.845956</td>
<td>0.130000</td>
<td>3.484750</td>
<td>5.337000</td>
<td>9.194500</td>
<td>36.472000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<p>As shown in <a href="#tbl-key-stats" class="quarto-xref">Table&nbsp;1</a>, GDP per capita has the largest spread, while life expectancy is more concentrated. Figures <a href="#fig-gdp-life" class="quarto-xref">Figure&nbsp;1</a> and <a href="#fig-top-gdp" class="quarto-xref">Figure&nbsp;2</a> provide visual context for these patterns. bibliography: references.bib The data in this report come from the World Bank World Development Indicators (WDI) dataset <span class="citation" data-cites="worldbank_wdi">(<a href="#ref-worldbank_wdi" role="doc-biblioref">World Bank 2024b</a>)</span>.</p>
<p>GDP per capita is measured as current US dollars (indicator code NY.GDP.PCAP.CD) <span class="citation" data-cites="worldbank_gdp">(<a href="#ref-worldbank_gdp" role="doc-biblioref">World Bank 2024a</a>)</span>.</p>

</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-worldbank_gdp" class="csl-entry" role="listitem">
World Bank. 2024a. <span>“GDP Per Capita (Current US$) - <span>NY.GDP.PCAP.CD</span>.”</span> World Bank Data Indicator Metadata.
</div>
<div id="ref-worldbank_wdi" class="csl-entry" role="listitem">
———. 2024b. <span>“World Development Indicators.”</span> World Bank Open Data.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>